{"ast":null,"code":"'use strict';\n\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport { NativeAppEventEmitter } from \"react-native-web/dist/index\";\nimport { Dialogflow } from \"./js/Dialogflow\";\nimport { Dialogflow_V2 } from \"./js/Dialogflow_V2\";\nimport Voice from \"./js/RCTVoice\";\nvar dialogflow = new Dialogflow();\ndialogflow.setConfiguration = function (accessToken, languageTag) {\n  dialogflow.accessToken = accessToken;\n  dialogflow.languageTag = languageTag;\n  dialogflow.sessionId = dialogflow.sessionId ? dialogflow.sessionId : dialogflow.guid();\n  Voice.onSpeechStart = function () {\n    return function (c) {\n      return dialogflow.onListeningStarted(c);\n    };\n  };\n  Voice.onSpeechEnd = function () {\n    return function (c) {\n      return dialogflow.onListeningFinished(c);\n    };\n  };\n};\ndialogflow.startListening = function (onResult, onError) {\n  dialogflow.subscription = NativeAppEventEmitter.addListener('onSpeechResults', function (result) {\n    if (result.value) {\n      dialogflow.requestQuery(result.value[0], onResult, onError);\n    }\n  });\n  Voice.start(dialogflow.languageTag);\n};\ndialogflow.finishListening = function () {\n  Voice.stop();\n};\nexport default dialogflow;\nvar dialogflow2 = new Dialogflow_V2();\ndialogflow2.setConfiguration = function () {\n  var _ref = _asyncToGenerator(function* (clientEmail, privateKey, languageTag, projectId) {\n    dialogflow2.accessToken = yield dialogflow2.generateAccessToken(clientEmail, privateKey);\n    dialogflow2.languageTag = languageTag;\n    dialogflow2.projectId = projectId;\n    dialogflow2.sessionId = dialogflow2.sessionId ? dialogflow2.sessionId : dialogflow2.guid();\n    Voice.onSpeechStart = function (c) {\n      dialogflow2.speechResult = null;\n      if (dialogflow2.onListeningStarted) {\n        dialogflow2.onListeningStarted(c);\n      }\n    };\n    Voice.onSpeechEnd = function (c) {\n      if (dialogflow2.speechResult) {\n        dialogflow2.requestQuery(dialogflow2.speechResult[0], dialogflow2.onResult, dialogflow2.onError);\n      }\n      if (dialogflow2.onListeningFinished) {\n        dialogflow2.onListeningFinished(c);\n      }\n    };\n    Voice.onSpeechVolumeChanged = function (c) {\n      if (dialogflow2.onAudioLevel) {\n        dialogflow2.onAudioLevel(c);\n      }\n    };\n    Voice.onSpeechResults = function (result) {\n      if (result.value) {\n        dialogflow2.speechResult = result.value;\n      }\n    };\n  });\n  return function (_x, _x2, _x3, _x4) {\n    return _ref.apply(this, arguments);\n  };\n}();\ndialogflow2.startListening = function (onResult, onError) {\n  dialogflow2.onResult = onResult;\n  dialogflow2.onError = onError;\n  Voice.start(dialogflow2.languageTag);\n};\ndialogflow2.finishListening = function () {\n  Voice.stop();\n};\nexport { dialogflow2 as Dialogflow_V2 };","map":{"version":3,"names":["_asyncToGenerator","NativeAppEventEmitter","Dialogflow","Dialogflow_V2","Voice","dialogflow","setConfiguration","accessToken","languageTag","sessionId","guid","onSpeechStart","c","onListeningStarted","onSpeechEnd","onListeningFinished","startListening","onResult","onError","subscription","addListener","result","value","requestQuery","start","finishListening","stop","dialogflow2","_ref","clientEmail","privateKey","projectId","generateAccessToken","speechResult","onSpeechVolumeChanged","onAudioLevel","onSpeechResults","_x","_x2","_x3","_x4","apply","arguments"],"sources":["C:/Users/pgome/OneDrive/Escritorio/appTutor/node_modules/react-native-dialogflow/index.js"],"sourcesContent":["'use strict';\n\nimport { NativeAppEventEmitter } from 'react-native';\nimport { Dialogflow } from './js/Dialogflow';\nimport { Dialogflow_V2 } from './js/Dialogflow_V2';\nimport Voice from './js/RCTVoice';\n\n/**\n *  DIALOGFLOW V1\n */\nvar dialogflow = new Dialogflow();\n\ndialogflow.setConfiguration = function (accessToken, languageTag) {\n    dialogflow.accessToken = accessToken;\n    dialogflow.languageTag = languageTag;\n    dialogflow.sessionId = dialogflow.sessionId ? dialogflow.sessionId : dialogflow.guid();\n\n    Voice.onSpeechStart = () => (c) => dialogflow.onListeningStarted(c);\n    Voice.onSpeechEnd = () => (c) => dialogflow.onListeningFinished(c);\n}\n\ndialogflow.startListening = function (onResult, onError) {\n\n    dialogflow.subscription = NativeAppEventEmitter.addListener(\n        'onSpeechResults',\n        (result) => {\n            if (result.value) {\n                dialogflow.requestQuery(result.value[0], onResult, onError);\n            }\n\n        }\n    );\n\n    Voice.start(dialogflow.languageTag);\n}\n\ndialogflow.finishListening = function () {\n    Voice.stop();\n}\n\nexport default dialogflow;\n\n\n/**\n * DIALOGFLOW V2\n */\nvar dialogflow2 = new Dialogflow_V2();\n\ndialogflow2.setConfiguration = async function (clientEmail, privateKey, languageTag, projectId) {\n    dialogflow2.accessToken = await dialogflow2.generateAccessToken(clientEmail, privateKey);\n    dialogflow2.languageTag = languageTag;\n    dialogflow2.projectId = projectId;\n    dialogflow2.sessionId = dialogflow2.sessionId ? dialogflow2.sessionId : dialogflow2.guid();\n\n    // set listeners\n    Voice.onSpeechStart = (c) => {\n        dialogflow2.speechResult = null;\n        if (dialogflow2.onListeningStarted) {\n            dialogflow2.onListeningStarted(c);\n        }\n    }\n\n    Voice.onSpeechEnd = (c) => {\n\n        if (dialogflow2.speechResult) {\n            dialogflow2.requestQuery(dialogflow2.speechResult[0], dialogflow2.onResult, dialogflow2.onError);\n        }\n\n        if (dialogflow2.onListeningFinished) {\n            dialogflow2.onListeningFinished(c);\n        }\n    }\n\n    Voice.onSpeechVolumeChanged = (c) => {\n        if (dialogflow2.onAudioLevel) {\n            dialogflow2.onAudioLevel(c);\n        }\n    }\n\n    Voice.onSpeechResults = (result) => {\n        if (result.value) {\n            dialogflow2.speechResult = result.value;\n        }\n    }\n}\n\ndialogflow2.startListening = function (onResult, onError) {\n    dialogflow2.onResult = onResult;\n    dialogflow2.onError = onError;\n\n    Voice.start(dialogflow2.languageTag);\n}\n\ndialogflow2.finishListening = function () {\n    Voice.stop();\n}\n\nexport { dialogflow2 as Dialogflow_V2 };\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}