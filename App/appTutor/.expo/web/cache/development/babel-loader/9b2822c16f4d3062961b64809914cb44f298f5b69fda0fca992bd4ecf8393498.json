{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport { ApiAiRequestError } from \"./Errors\";\nimport XhrRequest from \"./XhrRequest\";\nexport var DEFAULT_BASE_URL = \"https://api.api.ai/v1/\";\nvar ResetContextsRequest = function () {\n  function ResetContextsRequest(accessToken, sessionId, contextName) {\n    _classCallCheck(this, ResetContextsRequest);\n    if (contextName != null) {\n      this.uri = DEFAULT_BASE_URL + \"contexts/\" + contextName + \"?sessionId=\" + sessionId;\n    } else {\n      this.uri = DEFAULT_BASE_URL + \"contexts?sessionId=\" + sessionId;\n    }\n    this.headers = {\n      Authorization: \"Bearer \" + accessToken,\n      Accept: \"application/json\"\n    };\n  }\n  _createClass(ResetContextsRequest, [{\n    key: \"perform\",\n    value: function perform() {\n      return XhrRequest.delete(this.uri, null, this.headers, {}).then(ResetContextsRequest.handleSuccess.bind(this)).catch(ResetContextsRequest.handleError.bind(this));\n    }\n  }], [{\n    key: \"handleSuccess\",\n    value: function handleSuccess(xhr) {\n      return Promise.resolve(JSON.parse(xhr.responseText));\n    }\n  }, {\n    key: \"handleError\",\n    value: function handleError(xhr) {\n      var error = new ApiAiRequestError(null);\n      try {\n        var serverResponse = JSON.parse(xhr.responseText);\n        if (serverResponse.status && serverResponse.status.errorDetails) {\n          error = new ApiAiRequestError(serverResponse.status.errorDetails, serverResponse.status.code);\n        } else {\n          error = new ApiAiRequestError(xhr.statusText, xhr.status);\n        }\n      } catch (e) {\n        error = new ApiAiRequestError(xhr.statusText, xhr.status);\n      }\n      return Promise.reject(error);\n    }\n  }]);\n  return ResetContextsRequest;\n}();\nexport default ResetContextsRequest;","map":{"version":3,"names":["ApiAiRequestError","XhrRequest","DEFAULT_BASE_URL","ResetContextsRequest","accessToken","sessionId","contextName","_classCallCheck","uri","headers","Authorization","Accept","_createClass","key","value","perform","delete","then","handleSuccess","bind","catch","handleError","xhr","Promise","resolve","JSON","parse","responseText","error","serverResponse","status","errorDetails","code","statusText","e","reject"],"sources":["C:/Users/pgome/OneDrive/Escritorio/appTutor/node_modules/react-native-dialogflow/js/ResetContextsRequest.js"],"sourcesContent":["/**\n * Created by toni on 30.08.2017.\n */\nimport { ApiAiRequestError } from \"./Errors\";\nimport XhrRequest from './XhrRequest';\nexport const DEFAULT_BASE_URL = \"https://api.api.ai/v1/\";\n\n\nclass ResetContextsRequest {\n    constructor(accessToken, sessionId, contextName) {\n\n        if (contextName != null) {\n            this.uri = DEFAULT_BASE_URL + \"contexts/\" + contextName + \"?sessionId=\" + sessionId;\n        } else {\n            this.uri = DEFAULT_BASE_URL + \"contexts?sessionId=\" + sessionId;\n        }\n\n        this.headers = {\n            Authorization: \"Bearer \" + accessToken,\n            Accept: \"application/json\",\n        };\n    }\n    static handleSuccess(xhr) {\n        return Promise.resolve(JSON.parse(xhr.responseText));\n    }\n    static handleError(xhr) {\n        let error = new ApiAiRequestError(null);\n        try {\n            const serverResponse = JSON.parse(xhr.responseText);\n            if (serverResponse.status && serverResponse.status.errorDetails) {\n                error = new ApiAiRequestError(serverResponse.status.errorDetails, serverResponse.status.code);\n            }\n            else {\n                error = new ApiAiRequestError(xhr.statusText, xhr.status);\n            }\n        }\n        catch (e) {\n            error = new ApiAiRequestError(xhr.statusText, xhr.status);\n        }\n        return Promise.reject(error);\n    }\n    perform() {\n        return XhrRequest.delete(this.uri, null, this.headers, {})\n            .then(ResetContextsRequest.handleSuccess.bind(this))\n            .catch(ResetContextsRequest.handleError.bind(this));\n    }\n}\nexport default ResetContextsRequest;"],"mappings":";;AAGA,SAASA,iBAAiB;AAC1B,OAAOC,UAAU;AACjB,OAAO,IAAMC,gBAAgB,GAAG,wBAAwB;AAAC,IAGnDC,oBAAoB;EACtB,SAAAA,qBAAYC,WAAW,EAAEC,SAAS,EAAEC,WAAW,EAAE;IAAAC,eAAA,OAAAJ,oBAAA;IAE7C,IAAIG,WAAW,IAAI,IAAI,EAAE;MACrB,IAAI,CAACE,GAAG,GAAGN,gBAAgB,GAAG,WAAW,GAAGI,WAAW,GAAG,aAAa,GAAGD,SAAS;IACvF,CAAC,MAAM;MACH,IAAI,CAACG,GAAG,GAAGN,gBAAgB,GAAG,qBAAqB,GAAGG,SAAS;IACnE;IAEA,IAAI,CAACI,OAAO,GAAG;MACXC,aAAa,EAAE,SAAS,GAAGN,WAAW;MACtCO,MAAM,EAAE;IACZ,CAAC;EACL;EAACC,YAAA,CAAAT,oBAAA;IAAAU,GAAA;IAAAC,KAAA,EAoBD,SAAAC,QAAA,EAAU;MACN,OAAOd,UAAU,CAACe,MAAM,CAAC,IAAI,CAACR,GAAG,EAAE,IAAI,EAAE,IAAI,CAACC,OAAO,EAAE,CAAC,CAAC,CAAC,CACrDQ,IAAI,CAACd,oBAAoB,CAACe,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC,CACnDC,KAAK,CAACjB,oBAAoB,CAACkB,WAAW,CAACF,IAAI,CAAC,IAAI,CAAC,CAAC;IAC3D;EAAC;IAAAN,GAAA;IAAAC,KAAA,EAvBD,SAAAI,cAAqBI,GAAG,EAAE;MACtB,OAAOC,OAAO,CAACC,OAAO,CAACC,IAAI,CAACC,KAAK,CAACJ,GAAG,CAACK,YAAY,CAAC,CAAC;IACxD;EAAC;IAAAd,GAAA;IAAAC,KAAA,EACD,SAAAO,YAAmBC,GAAG,EAAE;MACpB,IAAIM,KAAK,GAAG,IAAI5B,iBAAiB,CAAC,IAAI,CAAC;MACvC,IAAI;QACA,IAAM6B,cAAc,GAAGJ,IAAI,CAACC,KAAK,CAACJ,GAAG,CAACK,YAAY,CAAC;QACnD,IAAIE,cAAc,CAACC,MAAM,IAAID,cAAc,CAACC,MAAM,CAACC,YAAY,EAAE;UAC7DH,KAAK,GAAG,IAAI5B,iBAAiB,CAAC6B,cAAc,CAACC,MAAM,CAACC,YAAY,EAAEF,cAAc,CAACC,MAAM,CAACE,IAAI,CAAC;QACjG,CAAC,MACI;UACDJ,KAAK,GAAG,IAAI5B,iBAAiB,CAACsB,GAAG,CAACW,UAAU,EAAEX,GAAG,CAACQ,MAAM,CAAC;QAC7D;MACJ,CAAC,CACD,OAAOI,CAAC,EAAE;QACNN,KAAK,GAAG,IAAI5B,iBAAiB,CAACsB,GAAG,CAACW,UAAU,EAAEX,GAAG,CAACQ,MAAM,CAAC;MAC7D;MACA,OAAOP,OAAO,CAACY,MAAM,CAACP,KAAK,CAAC;IAChC;EAAC;EAAA,OAAAzB,oBAAA;AAAA;AAOL,eAAeA,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}