{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nvar XhrRequest = function () {\n  function XhrRequest() {\n    _classCallCheck(this, XhrRequest);\n  }\n  _createClass(XhrRequest, null, [{\n    key: \"ajax\",\n    value: function ajax(method, url) {\n      var args = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var headers = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n      var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n      return new Promise(function (resolve, reject) {\n        var client = XhrRequest.createXMLHTTPObject();\n        var uri = url;\n        var payload = null;\n        if (args && method === XhrRequest.Method.GET) {\n          uri += \"?\";\n          var argcount = 0;\n          for (var key in args) {\n            if (args.hasOwnProperty(key)) {\n              if (argcount++) {\n                uri += \"&\";\n              }\n              uri += encodeURIComponent(key) + \"=\" + encodeURIComponent(args[key]);\n            }\n          }\n        } else if (args) {\n          if (!headers) {\n            headers = {};\n          }\n          headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n          payload = JSON.stringify(args);\n        }\n        for (var _key in options) {\n          if (_key in client) {\n            client[_key] = options[_key];\n          }\n        }\n        client.open(XhrRequest.Method[method], uri, true);\n        if (headers) {\n          for (var _key2 in headers) {\n            if (headers.hasOwnProperty(_key2)) {\n              client.setRequestHeader(_key2, headers[_key2]);\n            }\n          }\n        }\n        payload ? client.send(payload) : client.send();\n        client.onload = function () {\n          if (client.status >= 200 && client.status < 300) {\n            resolve(client);\n          } else {\n            reject(client);\n          }\n        };\n        client.onerror = function () {\n          reject(client);\n        };\n      });\n    }\n  }, {\n    key: \"get\",\n    value: function get(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.GET, url, payload, headers, options);\n    }\n  }, {\n    key: \"post\",\n    value: function post(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.POST, url, payload, headers, options);\n    }\n  }, {\n    key: \"put\",\n    value: function put(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.PUT, url, payload, headers, options);\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(url) {\n      var payload = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n      var headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n      var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n      return XhrRequest.ajax(XhrRequest.Method.DELETE, url, payload, headers, options);\n    }\n  }, {\n    key: \"createXMLHTTPObject\",\n    value: function createXMLHTTPObject() {\n      var xmlhttp = null;\n      for (var i of XhrRequest.XMLHttpFactories) {\n        try {\n          xmlhttp = i();\n        } catch (e) {\n          continue;\n        }\n        break;\n      }\n      return xmlhttp;\n    }\n  }]);\n  return XhrRequest;\n}();\nXhrRequest.XMLHttpFactories = [function () {\n  return new XMLHttpRequest();\n}, function () {\n  return new window[\"ActiveXObject\"](\"Msxml2.XMLHTTP\");\n}, function () {\n  return new window[\"ActiveXObject\"](\"Msxml3.XMLHTTP\");\n}, function () {\n  return new window[\"ActiveXObject\"](\"Microsoft.XMLHTTP\");\n}];\n(function (XhrRequest) {\n  var Method;\n  (function (Method) {\n    Method[Method[\"GET\"] = \"GET\"] = \"GET\";\n    Method[Method[\"POST\"] = \"POST\"] = \"POST\";\n    Method[Method[\"PUT\"] = \"PUT\"] = \"PUT\";\n    Method[Method[\"DELETE\"] = \"DELETE\"] = \"DELETE\";\n  })(Method = XhrRequest.Method || (XhrRequest.Method = {}));\n})(XhrRequest || (XhrRequest = {}));\nexport default XhrRequest;","map":{"version":3,"names":["XhrRequest","_classCallCheck","_createClass","key","value","ajax","method","url","args","arguments","length","undefined","headers","options","Promise","resolve","reject","client","createXMLHTTPObject","uri","payload","Method","GET","argcount","hasOwnProperty","encodeURIComponent","JSON","stringify","open","setRequestHeader","send","onload","status","onerror","get","post","POST","put","PUT","_delete","DELETE","xmlhttp","i","XMLHttpFactories","e","XMLHttpRequest","window"],"sources":["C:/Users/pgome/OneDrive/Escritorio/appTutor/node_modules/react-native-dialogflow/js/XhrRequest.js"],"sourcesContent":["/**\n * quick ts implementation of example from\n * https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise\n * with some minor improvements\n * @todo: test (?)\n * @todo: add node.js implementation with node's http inside. Just to make SDK cross-platform\n */\nclass XhrRequest {\n    // Method that performs the ajax request\n    static ajax(method, url, args = null, headers = null, options = {}) {\n        // Creating a promise\n        return new Promise((resolve, reject) => {\n            // Instantiates the XMLHttpRequest\n            const client = XhrRequest.createXMLHTTPObject();\n            let uri = url;\n            let payload = null;\n            // Add given payload to get request\n            if (args && (method === XhrRequest.Method.GET)) {\n                uri += \"?\";\n                let argcount = 0;\n                for (const key in args) {\n                    if (args.hasOwnProperty(key)) {\n                        if (argcount++) {\n                            uri += \"&\";\n                        }\n                        uri += encodeURIComponent(key) + \"=\" + encodeURIComponent(args[key]);\n                    }\n                }\n            }\n            else if (args) {\n                if (!headers) {\n                    headers = {};\n                }\n                headers[\"Content-Type\"] = \"application/json; charset=utf-8\";\n                payload = JSON.stringify(args);\n            }\n            for (const key in options) {\n                if (key in client) {\n                    client[key] = options[key];\n                }\n            }\n            // hack: method[method] is somewhat like .toString for enum Method\n            // should be made in normal way\n            client.open(XhrRequest.Method[method], uri, true);\n            // Add given headers\n            if (headers) {\n                for (const key in headers) {\n                    if (headers.hasOwnProperty(key)) {\n                        client.setRequestHeader(key, headers[key]);\n                    }\n                }\n            }\n            payload ? client.send(payload) : client.send();\n            client.onload = () => {\n                if (client.status >= 200 && client.status < 300) {\n                    // Performs the function \"resolve\" when this.status is equal to 2xx\n                    resolve(client);\n                }\n                else {\n                    // Performs the function \"reject\" when this.status is different than 2xx\n                    reject(client);\n                }\n            };\n            client.onerror = () => {\n                reject(client);\n            };\n        });\n    }\n    static get(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.GET, url, payload, headers, options);\n    }\n    static post(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.POST, url, payload, headers, options);\n    }\n    static put(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.PUT, url, payload, headers, options);\n    }\n    static delete(url, payload = null, headers = null, options = {}) {\n        return XhrRequest.ajax(XhrRequest.Method.DELETE, url, payload, headers, options);\n    }\n    static createXMLHTTPObject() {\n        let xmlhttp = null;\n        for (const i of XhrRequest.XMLHttpFactories) {\n            try {\n                xmlhttp = i();\n            }\n            catch (e) {\n                continue;\n            }\n            break;\n        }\n        return xmlhttp;\n    }\n}\nXhrRequest.XMLHttpFactories = [\n    () => new XMLHttpRequest(),\n    () => new window[\"ActiveXObject\"](\"Msxml2.XMLHTTP\"),\n    () => new window[\"ActiveXObject\"](\"Msxml3.XMLHTTP\"),\n    () => new window[\"ActiveXObject\"](\"Microsoft.XMLHTTP\")\n];\n(function (XhrRequest) {\n    let Method;\n    (function (Method) {\n        Method[Method[\"GET\"] = \"GET\"] = \"GET\";\n        Method[Method[\"POST\"] = \"POST\"] = \"POST\";\n        Method[Method[\"PUT\"] = \"PUT\"] = \"PUT\";\n        Method[Method[\"DELETE\"] = \"DELETE\"] = \"DELETE\";\n    })(Method = XhrRequest.Method || (XhrRequest.Method = {}));\n})(XhrRequest || (XhrRequest = {}));\nexport default XhrRequest;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}