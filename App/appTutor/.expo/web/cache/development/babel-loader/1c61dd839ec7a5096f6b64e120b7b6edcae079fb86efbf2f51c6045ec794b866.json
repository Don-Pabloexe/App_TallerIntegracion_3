{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nexport default function postAsForm(_x, _x2) {\n  return _postAsForm.apply(this, arguments);\n}\nfunction _postAsForm() {\n  _postAsForm = _asyncToGenerator(function* (url, data) {\n    var response;\n    try {\n      var form = [];\n      addItemsToForm(form, typeof data == 'object' ? [] : [options.name || 'model'], data);\n      var response = yield fetch(url, {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json, application/xml, text/play, text/html, *.*',\n          'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n        },\n        body: form.join('&')\n      });\n      return yield response.text();\n    } catch (err) {\n      err.response = response;\n      throw err;\n    }\n  });\n  return _postAsForm.apply(this, arguments);\n}\nfunction addItemsToForm(form, names, obj) {\n  if (obj === undefined || obj === \"\" || obj === null) return addItemToForm(form, names, \"\");\n  if (typeof obj == \"string\" || typeof obj == \"number\" || obj === true || obj === false) return addItemToForm(form, names, obj);\n  if (obj instanceof Date) return addItemToForm(form, names, obj.toJSON());\n  if (obj instanceof Array) {\n    return obj.forEach(function (v, i) {\n      names.push(\"[\" + i + \"]\");\n      addItemsToForm(form, names, v);\n      names.pop();\n    });\n  }\n  if (typeof obj === \"object\") {\n    return Object.keys(obj).forEach(function (k) {\n      names.push(k);\n      addItemsToForm(form, names, obj[k]);\n      names.pop();\n    });\n  }\n}\nfunction addItemToForm(form, names, value) {\n  var name = encodeURIComponent(names.join('.').replace(/\\.\\[/g, '['));\n  value = encodeURIComponent(value.toString());\n  form.push(name + \"=\" + value);\n}","map":{"version":3,"names":["postAsForm","_x","_x2","_postAsForm","apply","arguments","_asyncToGenerator","url","data","response","form","addItemsToForm","options","name","fetch","method","headers","body","join","text","err","names","obj","undefined","addItemToForm","Date","toJSON","Array","forEach","v","i","push","pop","Object","keys","k","value","encodeURIComponent","replace","toString"],"sources":["C:/Users/pgome/OneDrive/Escritorio/appTutor/node_modules/react-native-dialogflow/js/googleAuth/postAsForm.js"],"sourcesContent":["export default async function postAsForm(url, data) {\n    var response;\n    try {\n\n        //array that holds the items that get added into the form\n        var form = [];\n\n        //special handling for object/array data, arrays will use \"model\" as the container ns\n        addItemsToForm(form, typeof data == 'object' ? [] : [options.name || 'model'], data);\n\n        //you'll need to await on response.text/blob/json etc\n        var response = await fetch(url, {\n            method: 'post',\n            headers: {\n                'Accept': 'application/json, application/xml, text/play, text/html, *.*',\n                'Content-Type': 'application/x-www-form-urlencoded; charset=utf-8'\n            },\n            body: form.join('&')\n        });\n\n        //return plain text as-is, don't parse it here\n        return await response.text();\n    } catch (err) {\n        //console.error(\"Error from server:\", err && err.stack || err);\n        err.response = response;\n        throw err;\n    }\n}\n\nfunction addItemsToForm(form, names, obj) {\n    if (obj === undefined || obj === \"\" || obj === null) return addItemToForm(form, names, \"\");\n\n    if (\n        typeof obj == \"string\"\n        || typeof obj == \"number\"\n        || obj === true\n        || obj === false\n    ) return addItemToForm(form, names, obj);\n\n    if (obj instanceof Date) return addItemToForm(form, names, obj.toJSON());\n\n    // array or otherwise array-like\n    if (obj instanceof Array) {\n        return obj.forEach((v, i) => {\n            names.push(`[${i}]`);\n            addItemsToForm(form, names, v);\n            names.pop();\n        });\n    }\n\n    if (typeof obj === \"object\") {\n        return Object.keys(obj).forEach((k) => {\n            names.push(k);\n            addItemsToForm(form, names, obj[k]);\n            names.pop();\n        });\n    }\n}\n\nfunction addItemToForm(form, names, value) {\n    var name = encodeURIComponent(names.join('.').replace(/\\.\\[/g, '['));\n    value = encodeURIComponent(value.toString());\n    form.push(`${name}=${value}`);\n}\n"],"mappings":";AAAA,wBAA8BA,UAAUA,CAAAC,EAAA,EAAAC,GAAA;EAAA,OAAAC,WAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AA2BvC,SAAAF,YAAA;EAAAA,WAAA,GAAAG,iBAAA,CA3Bc,WAA0BC,GAAG,EAAEC,IAAI,EAAE;IAChD,IAAIC,QAAQ;IACZ,IAAI;MAGA,IAAIC,IAAI,GAAG,EAAE;MAGbC,cAAc,CAACD,IAAI,EAAE,OAAOF,IAAI,IAAI,QAAQ,GAAG,EAAE,GAAG,CAACI,OAAO,CAACC,IAAI,IAAI,OAAO,CAAC,EAAEL,IAAI,CAAC;MAGpF,IAAIC,QAAQ,SAASK,KAAK,CAACP,GAAG,EAAE;QAC5BQ,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UACL,QAAQ,EAAE,8DAA8D;UACxE,cAAc,EAAE;QACpB,CAAC;QACDC,IAAI,EAAEP,IAAI,CAACQ,IAAI,CAAC,GAAG;MACvB,CAAC,CAAC;MAGF,aAAaT,QAAQ,CAACU,IAAI,CAAC,CAAC;IAChC,CAAC,CAAC,OAAOC,GAAG,EAAE;MAEVA,GAAG,CAACX,QAAQ,GAAGA,QAAQ;MACvB,MAAMW,GAAG;IACb;EACJ,CAAC;EAAA,OAAAjB,WAAA,CAAAC,KAAA,OAAAC,SAAA;AAAA;AAED,SAASM,cAAcA,CAACD,IAAI,EAAEW,KAAK,EAAEC,GAAG,EAAE;EACtC,IAAIA,GAAG,KAAKC,SAAS,IAAID,GAAG,KAAK,EAAE,IAAIA,GAAG,KAAK,IAAI,EAAE,OAAOE,aAAa,CAACd,IAAI,EAAEW,KAAK,EAAE,EAAE,CAAC;EAE1F,IACI,OAAOC,GAAG,IAAI,QAAQ,IACnB,OAAOA,GAAG,IAAI,QAAQ,IACtBA,GAAG,KAAK,IAAI,IACZA,GAAG,KAAK,KAAK,EAClB,OAAOE,aAAa,CAACd,IAAI,EAAEW,KAAK,EAAEC,GAAG,CAAC;EAExC,IAAIA,GAAG,YAAYG,IAAI,EAAE,OAAOD,aAAa,CAACd,IAAI,EAAEW,KAAK,EAAEC,GAAG,CAACI,MAAM,CAAC,CAAC,CAAC;EAGxE,IAAIJ,GAAG,YAAYK,KAAK,EAAE;IACtB,OAAOL,GAAG,CAACM,OAAO,CAAC,UAACC,CAAC,EAAEC,CAAC,EAAK;MACzBT,KAAK,CAACU,IAAI,OAAKD,CAAC,MAAG,CAAC;MACpBnB,cAAc,CAACD,IAAI,EAAEW,KAAK,EAAEQ,CAAC,CAAC;MAC9BR,KAAK,CAACW,GAAG,CAAC,CAAC;IACf,CAAC,CAAC;EACN;EAEA,IAAI,OAAOV,GAAG,KAAK,QAAQ,EAAE;IACzB,OAAOW,MAAM,CAACC,IAAI,CAACZ,GAAG,CAAC,CAACM,OAAO,CAAC,UAACO,CAAC,EAAK;MACnCd,KAAK,CAACU,IAAI,CAACI,CAAC,CAAC;MACbxB,cAAc,CAACD,IAAI,EAAEW,KAAK,EAAEC,GAAG,CAACa,CAAC,CAAC,CAAC;MACnCd,KAAK,CAACW,GAAG,CAAC,CAAC;IACf,CAAC,CAAC;EACN;AACJ;AAEA,SAASR,aAAaA,CAACd,IAAI,EAAEW,KAAK,EAAEe,KAAK,EAAE;EACvC,IAAIvB,IAAI,GAAGwB,kBAAkB,CAAChB,KAAK,CAACH,IAAI,CAAC,GAAG,CAAC,CAACoB,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;EACpEF,KAAK,GAAGC,kBAAkB,CAACD,KAAK,CAACG,QAAQ,CAAC,CAAC,CAAC;EAC5C7B,IAAI,CAACqB,IAAI,CAAIlB,IAAI,SAAIuB,KAAO,CAAC;AACjC"},"metadata":{},"sourceType":"module","externalDependencies":[]}